webpackJsonp([1],{"0ukS":function(t,e){},"5/fN":function(t,e){},"7xIN":function(t,e){},A4Fv:function(t,e){},BlYj:function(t,e){},DHSE:function(t,e){},EdC7:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAC4klEQVRoQ+2a8VEVQQzGv68CtQKlArQCpQK1ArECsAK1ArECpQK1AqECoQKgArWCOB+z59y7t3e3ye4KzpAZ/mJvL78km01yj+gkZvYIwEMAVyQvO70GbLVxUvgAwDMAjzP7CuIrgGOSZ63eWw2QFH8LYN+h1GcA71t4pgrAzF4A+ATgvkP5YekvAG9ICiYsYQAzk8WlfK28roEIASTLf6nVfPR8GMINYGYKl4tg2MwxK5yeRM5EBEAx+6qh9YetlJ08ieD6ORdAyjiyfi/Z8XrBC3AI4EMv7VNWOvLs7wXQRfTc8wLn2lOSugiLxQug8FGJ0E1IunRyLTYz66Z52vgOYMnCZqZ8fa+nF3p74ATA044A5yRzlezsK71nQClOJXMv+UhSqbpYvACyzo/i3f0LX5JUqi4WF4B2NbNeYeQOH+kTAdBF873YROUL90jKOC5xAyQvtD4LoUIu5IHBPGbWqqxwlw9jF4U8MIKoLa2PARyS1P0SkiqAFE5Ke++cF9xvPUPSVXnmCKsBEoS6NIGoIdEsaE6uAMhrRzVWbxZCOS1T06P7Ynyjag505m1WSmKqiQeSF1wlBsnTEgXX1oQAkpXV2ChkXLVLRiHlfmW0bxEPuQCS4poFubqmNSuO/i8YjViKZ6lFAGmUovGhq9ByKD5dquyk0eNqel0FSFbXEKs2VLw8OvgqLxYhFgHMTEqr7onMPr0K59ZLeUHMTrNnAVLYSPl/bfkpyKInlgCkfK/D6vXOCcm94pu44eTZq+jS+uwAOOsBM+s+/wmQXZLcmT63BXBLrT/oveWFHECrOj9g5NVHdFvrq9Bf2QBImefn6jY3u+DB+G6YAvTqd1sib/TOU4De4/MWIBvnYAqgzko1z20W1UjS81ruAG7AVYseUIpq+fm0B9/G+PF/uwe2BmBzpYRaRWWk3R4mDOx5niYZWz9LWOsH9D1Mf0NVqtK6d2+gdnJoKdViapox29T8ASR6AEDL9MXKAAAAAElFTkSuQmCC"},FaEH:function(t,e){},MCK6:function(t,e){},Mwa0:function(t,e){},Myrv:function(t,e){},NHnr:function(t,e,a){"use strict";function n(){return localStorage.token}function s(t){return localStorage.token=t}function r(){return localStorage.removeItem("token")}Object.defineProperty(e,"__esModule",{value:!0});a("fCJj");var o=a("h/uP"),i=a.n(o),c=a("VCXJ"),l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]},u=a("8AGX")({name:"app"},l,!1,function(t){a("MCK6")},null,null).exports,m=a("DjdX"),d=a.n(m),h=a("zO6J"),g={render:function(){var t=this.$createElement,e=this._self._c||t;return e("el-footer",{staticClass:"me-area"},[e("div",{staticClass:"me-footer"},[e("p",[this._v("Designed by \n\t\t"),e("strong",[e("router-link",{staticClass:"me-login-design-color",attrs:{to:"/"}},[this._v("ForFun")])],1)])])])},staticRenderFns:[]},f=a("8AGX")({name:"BaseFooter",data:function(){return{}},methods:{},mounted:function(){}},g,!1,function(t){a("mXUo")},null,null).exports,v={name:"BaseHeader",props:{activeIndex:String,simple:{type:Boolean,default:!1}},data:function(){return{}},computed:{user:function(){return{login:0!=this.$store.state.account.length,avatar:this.$store.state.avatar}}},methods:{logout:function(){var t=this,e=this;this.$store.dispatch("logout").then(function(){t.$router.push({path:"/"})}).catch(function(t){"error"!==t&&e.$message({message:t,type:"error",showClose:!0})})}}},p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("el-header",{staticClass:"me-area"},[e("el-row",{staticClass:"me-header"},[e("el-col",{staticClass:"me-header-left",attrs:{span:4}},[e("router-link",{staticClass:"me-title",attrs:{to:"/"}},[e("img",{attrs:{src:a("dLd/")}})])],1),this._v(" "),this.simple?[this._t("default")]:e("el-col",{attrs:{span:16}},[e("el-menu",{attrs:{router:!0,"menu-trigger":"click","active-text-color":"#5FB878","default-active":this.activeIndex,mode:"horizontal"}},[e("el-menu-item",{attrs:{index:"/"}},[this._v("首页")]),this._v(" "),e("el-menu-item",{attrs:{index:"/category/all"}},[this._v("文章分类")]),this._v(" "),e("el-menu-item",{attrs:{index:"/tag/all"}},[this._v("标签")]),this._v(" "),e("el-menu-item",{attrs:{index:"/log"}},[this._v("日志")]),this._v(" "),e("el-menu-item",{attrs:{index:"/messageBoard"}},[this._v("留言板")]),this._v(" "),e("el-col",{attrs:{span:4,offset:4}},[e("el-menu-item",{attrs:{index:"/write"}},[e("i",{staticClass:"el-icon-edit"}),this._v("写文章")])],1)],1)],1),this._v(" "),e("el-col",{attrs:{span:4}},[e("el-menu",{attrs:{router:!0,"menu-trigger":"click",mode:"horizontal","active-text-color":"#5FB878"}},[this.user.login?[e("el-submenu",{attrs:{index:""}},[e("template",{slot:"title"},[e("img",{staticClass:"me-header-picture",attrs:{src:this.user.avatar}})]),this._v(" "),e("el-menu-item",{attrs:{index:""},on:{click:this.logout}},[e("i",{staticClass:"el-icon-back"}),this._v("退出")])],2)]:[e("el-menu-item",{attrs:{index:"/login"}},[e("el-button",{attrs:{type:"text"}},[this._v("登录")])],1),this._v(" "),e("el-menu-item",{attrs:{index:"/register"}},[e("el-button",{attrs:{type:"text"}},[this._v("注册")])],1)]],2)],1)],2)],1)},staticRenderFns:[]},_=a("8AGX")(v,p,!1,function(t){a("tlvp")},null,null).exports,C={name:"Home",data:function(){return{activeIndex:"/",footerShow:!0}},components:{"base-header":_,"base-footer":f},beforeRouteEnter:function(t,e,a){a(function(e){e.activeIndex=t.path})},beforeRouteUpdate:function(t,e,a){"/"==t.path?this.footerShow=!0:this.footerShow=!1,this.activeIndex=t.path,a()}},w={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"home"}},[e("el-container",[e("base-header",{attrs:{activeIndex:this.activeIndex}}),this._v(" "),e("router-view",{staticClass:"me-container"}),this._v(" "),e("base-footer",{directives:[{name:"show",rawName:"v-show",value:this.footerShow,expression:"footerShow"}]})],1),this._v(" "),e("go-top")],1)},staticRenderFns:[]},y=a("8AGX")(C,w,!1,function(t){a("5/fN")},null,null).exports,b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",[a("h1",{staticClass:"me-author-name"},[t._v("shimh")]),t._v(" "),a("div",{staticClass:"me-author-description"},[a("span",[a("i",{staticClass:"el-icon-location-outline"}),t._v("  山东&济南")]),t._v(" "),a("span",[a("i",{staticClass:"me-icon-job"}),t._v("  java开发工程师")])]),t._v(" "),a("div",{staticClass:"me-author-tool"},[a("i",{staticClass:"me-icon-QQ",attrs:{title:t.qq.title},on:{click:function(e){t.showTool(t.qq)}}}),t._v(" "),a("i",{staticClass:"me-icon-github",attrs:{title:t.github.title},on:{click:function(e){t.showTool(t.github)}}})])])},staticRenderFns:[]},A=a("8AGX")({name:"CardMe",data:function(){return{qq:{title:"QQ",message:"919431514"},github:{title:"github",message:'<a target="_blank" href="https://github.com/shimh-develop">https://github.com/shimh-develop</a>'}}},methods:{showTool:function(t){this.$message({duration:0,showClose:!0,dangerouslyUseHTMLString:!0,message:"<strong>"+t.message+"</strong>"})}}},b,!1,function(t){a("OOuk")},"data-v-101a5dbc",null).exports,k={name:"CardArticle",props:{cardHeader:{type:String,required:!0},articles:{type:Array,required:!0}},data:function(){return{}},methods:{view:function(t){this.$router.push({path:"/view/"+t})}}},F={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{attrs:{"body-style":{padding:"8px 18px"}}},[a("div",{staticClass:"me-category-header",attrs:{slot:"header"},slot:"header"},[a("span",[t._v(t._s(t.cardHeader))])]),t._v(" "),a("ul",{staticClass:"me-category-list"},t._l(t.articles,function(e){return a("li",{key:e.id,staticClass:"me-category-item",on:{click:function(a){t.view(e.id)}}},[a("a",[t._v(t._s(e.title))])])}))])},staticRenderFns:[]},T=a("8AGX")(k,F,!1,function(t){a("Myrv")},"data-v-02deae0c",null).exports,x={name:"CardTag",props:{tags:Array},data:function(){return{}},methods:{moreTags:function(){this.$router.push("/tag/all")},tag:function(t){this.$router.push({path:"/tag/"+t})}}},E={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{attrs:{"body-style":{padding:"8px 18px"}}},[a("div",{staticClass:"me-tag-header",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("最热标签")]),t._v(" "),a("a",{staticClass:"me-pull-right me-tag-more",on:{click:t.moreTags}},[t._v("更多")])]),t._v(" "),a("ul",{staticClass:"me-tag-list"},t._l(t.tags,function(e){return a("li",{key:e.id,staticClass:"me-tag-item"},[a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(a){t.tag(e.id)}}},[t._v(t._s(e.tagname))])],1)}))])},staticRenderFns:[]},$=a("8AGX")(x,E,!1,function(t){a("Mwa0")},"data-v-6852ada4",null).exports,S={name:"ArticleItem",props:{id:String,weight:Number,title:String,commentCounts:Number,viewCounts:Number,summary:String,author:Object,tags:Array,createDate:String},data:function(){return{}},methods:{view:function(t){this.$router.push({path:"/view/"+t})}}},O={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"me-area",attrs:{"body-style":{padding:"16px"}}},[a("div",{staticClass:"me-article-header"},[a("a",{on:{click:function(e){t.view(t.id)}}},[t._v(t._s(t.title))]),t._v(" "),t.weight>0?a("el-button",{staticClass:"me-article-icon",attrs:{type:"text"}},[t._v("置顶")]):t._e(),t._v(" "),a("span",{staticClass:"me-pull-right me-article-count"},[a("i",{staticClass:"me-icon-comment"}),t._v(" "+t._s(t.commentCounts)+"\n\t    ")]),t._v(" "),a("span",{staticClass:"me-pull-right me-article-count"},[a("i",{staticClass:"el-icon-view"}),t._v(" "+t._s(t.viewCounts)+"\n\t    ")])],1),t._v(" "),a("div",{staticClass:"me-artile-description"},[t._v("\n\t    \t"+t._s(t.summary)+"\n\t  ")]),t._v(" "),a("div",{staticClass:"me-article-footer"},[a("span",{staticClass:"me-article-author"},[a("i",{staticClass:"me-icon-author"}),t._v(" "+t._s(t.author.nickname)+"\n\t    ")]),t._v(" "),t._l(t.tags,function(e){return a("el-tag",{key:e.tagname,attrs:{size:"mini",type:"success"}},[t._v(t._s(e.tagname))])}),t._v(" "),a("span",{staticClass:"me-pull-right me-article-count"},[a("i",{staticClass:"el-icon-time"}),t._v(" "+t._s(t.createDate)+"\n\t    ")])],2)])},staticRenderFns:[]},B=a("8AGX")(S,O,!1,function(t){a("urkz")},"data-v-74a0f488",null).exports,N=a("rVsN"),R=a.n(N),q=a("2sCs"),L=a.n(q),X=a("9rMa");c.default.use(X.a);var V=new X.a.Store({state:{account:"",name:"",avatar:"",token:n()},mutations:{SET_TOKEN:function(t,e){t.token=e},SET_ACCOUNT:function(t,e){t.account=e},SET_NAME:function(t,e){t.name=e},SET_AVATAR:function(t,e){t.avatar=e}},actions:{login:function(t,e){var a=t.commit;return new R.a(function(t,n){(function(t,e){return I({url:"/login",method:"post",data:{account:t,password:e}})})(e.account,e.password).then(function(e){a("SET_TOKEN",e.data["Oauth-Token"]),s(e.data["Oauth-Token"]),t()}).catch(function(t){n(t)})})},getUserInfo:function(t){var e=t.commit;t.state;return new R.a(function(t,a){I({url:"/users/currentUser",method:"get"}).then(function(a){a.data?(e("SET_ACCOUNT",a.data.account),e("SET_NAME",a.data.name),e("SET_AVATAR",a.data.avatar)):(e("SET_ACCOUNT",""),e("SET_NAME",""),e("SET_AVATAR",""),r()),t(a)}).catch(function(t){a(t)})})},logout:function(t){var e=t.commit;t.state;return new R.a(function(t,a){I({url:"/logout",method:"get"}).then(function(a){e("SET_TOKEN",""),e("SET_ACCOUNT",""),e("SET_NAME",""),e("SET_AVATAR",""),r(),t()}).catch(function(t){a(t)})})},fedLogOut:function(t){var e=t.commit;return new R.a(function(t){e("SET_TOKEN",""),e("SET_ACCOUNT",""),e("SET_NAME",""),e("SET_AVATAR",""),r(),t()}).catch(function(t){reject(t)})},register:function(t,e){var a=t.commit;return new R.a(function(t,n){(function(t,e,a){return I({url:"/register",method:"post",data:{account:t,nickname:e,password:a}})})(e.account,e.nickname,e.password).then(function(e){a("SET_TOKEN",e.data["Oauth-Token"]),s(e.data["Oauth-Token"]),t()}).catch(function(t){n(t)})})}}}),G=L.a.create({baseURL:Object({NODE_ENV:"production"}).BASE_API,timeout:1e4});G.interceptors.request.use(function(t){return V.state.token&&(console.info("拦截器-"+n()),t.headers["Oauth-Token"]=n()),t},function(t){R.a.reject(t)}),G.interceptors.response.use(function(t){console.info("拦截器response"),console.info(t),"timeout"==t.headers.session_time_out&&V.dispatch("fedLogOut");var e=t.data;return 0!==e.code?90001===e.code?R.a.reject("error"):20001===e.code?(console.info("用户未登录"),d()({type:"warning",showClose:!0,message:"未登录或登录超时，请重新登录哦"}),R.a.reject("error")):70001===e.code?(console.info("权限认证错误"),d()({type:"warning",showClose:!0,message:"你没有权限访问哦"}),R.a.reject("error")):R.a.reject(e.msg):t.data},function(t){return d()({type:"warning",showClose:!0,message:"连接超时"}),R.a.reject("error")});var I=G,H={name:"Index",created:function(){this.getArticles(),this.getHotArtices(),this.getNewArtices(),this.getHotTags()},data:function(){return{articles:[],hotTags:[],hotArticles:[],newArticles:[]}},methods:{view:function(t){this.$router.push({path:"/view/"+t})},getArticles:function(){var t=this;I({url:"/articles",method:"get"}).then(function(e){t.articles=e.data}).catch(function(e){"error"!==e&&t.$message({type:"error",message:"文章加载失败!",showClose:!0})})},getHotArtices:function(){var t=this;I({url:"/articles/hot",method:"get"}).then(function(e){t.hotArticles=e.data}).catch(function(e){"error"!==e&&t.$message({type:"error",message:"最热文章加载失败!",showClose:!0})})},getNewArtices:function(){var t=this;I({url:"/articles/new",method:"get"}).then(function(e){t.newArticles=e.data}).catch(function(e){"error"!==e&&t.$message({type:"error",message:"最新文章加载失败!",showClose:!0})})},getHotTags:function(){var t=this;I({url:"/tags/hot",method:"get"}).then(function(e){t.hotTags=e.data}).catch(function(e){"error"!==e&&t.$message({type:"error",message:"最热标签加载失败!",showClose:!0})})}},components:{"card-me":A,"card-article":T,"card-tag":$,"article-item":B}},M={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-container",[a("el-main",{staticClass:"me-articles"},t._l(t.articles,function(e){return a("article-item",t._b({key:e.id},"article-item",e,!1))})),t._v(" "),a("el-aside",[a("card-me",{staticClass:"me-area"}),t._v(" "),a("card-tag",{attrs:{tags:t.hotTags}}),t._v(" "),a("card-article",{attrs:{cardHeader:"最新文章",articles:t.newArticles}}),t._v(" "),a("card-article",{attrs:{cardHeader:"最热文章",articles:t.hotArticles}})],1)],1)],1)},staticRenderFns:[]},K=a("8AGX")(H,M,!1,function(t){a("DHSE")},"data-v-fc160c6e",null).exports,j={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"login"}},[a("div",{staticClass:"me-login-box me-login-box-radius"},[a("h1",[t._v("ForFun 登录")]),t._v(" "),a("el-form",{ref:"userForm",attrs:{model:t.userForm,rules:t.rules}},[a("el-form-item",{attrs:{prop:"account"}},[a("el-input",{attrs:{placeholder:"用户名"},model:{value:t.userForm.account,callback:function(e){t.$set(t.userForm,"account",e)},expression:"userForm.account"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{placeholder:"密码"},model:{value:t.userForm.password,callback:function(e){t.$set(t.userForm,"password",e)},expression:"userForm.password"}})],1),t._v(" "),a("el-form-item",{staticClass:"me-login-button",attrs:{size:"small"}},[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){e.preventDefault(),t.login("userForm")}}},[t._v("登录")])],1)],1),t._v(" "),a("div",{staticClass:"me-login-design"},[a("p",[t._v("Designed by \n\t\t\t"),a("strong",[a("router-link",{staticClass:"me-login-design-color",attrs:{to:"/"}},[t._v("ForFun")])],1)])])],1)])},staticRenderFns:[]},z=a("8AGX")({name:"Login",data:function(){return{userForm:{account:"",password:""},rules:{account:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{login:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.$store.dispatch("login",e.userForm).then(function(){e.$router.go(-1)}).catch(function(t){"error"!==t&&e.$message({message:t,type:"error",showClose:!0})})})}}},j,!1,function(t){a("0ukS")},"data-v-3f706af3",null).exports,U={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"register"}},[a("div",{staticClass:"me-login-box me-login-box-radius"},[a("h1",[t._v("ForFun 注册")]),t._v(" "),a("el-form",{ref:"userForm",attrs:{model:t.userForm,rules:t.rules}},[a("el-form-item",{attrs:{prop:"account"}},[a("el-input",{attrs:{placeholder:"用户名"},model:{value:t.userForm.account,callback:function(e){t.$set(t.userForm,"account",e)},expression:"userForm.account"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"nickname"}},[a("el-input",{attrs:{placeholder:"昵称"},model:{value:t.userForm.nickname,callback:function(e){t.$set(t.userForm,"nickname",e)},expression:"userForm.nickname"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{placeholder:"密码"},model:{value:t.userForm.password,callback:function(e){t.$set(t.userForm,"password",e)},expression:"userForm.password"}})],1),t._v(" "),a("el-form-item",{staticClass:"me-login-button",attrs:{size:"small"}},[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){e.preventDefault(),t.register("userForm")}}},[t._v("注册")])],1)],1),t._v(" "),a("div",{staticClass:"me-login-design"},[a("p",[t._v("Designed by \n\t\t\t"),a("strong",[a("router-link",{staticClass:"me-login-design-color",attrs:{to:"/"}},[t._v("ForFun")])],1)])])],1)])},staticRenderFns:[]},Y=a("8AGX")({name:"Register",data:function(){return{userForm:{account:"",nickname:"",password:""},rules:{account:[{required:!0,message:"请输入用户名",trigger:"blur"}],nickname:[{required:!0,message:"请输入昵称",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{register:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.$store.dispatch("register",e.userForm).then(function(){e.$message({message:"注册成功 快写文章吧",type:"success",showClose:!0}),e.$router.push({path:"/"})}).catch(function(t){"error"!==t&&e.$message({message:t,type:"error",showClose:!0})})})}}},U,!1,function(t){a("dqYF")},"data-v-642227ec",null).exports,D={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-container",{staticClass:"me-area"},[e("el-main",{staticClass:"me-main"},[e("pre",[this._v("\t\t\t \t\n\t\t\t## 2018-01-04\n\t\t\t\n\t\t\t```\n\t\t\t# 使用vue的Webpack模板生成脚手架\n\t\t\t```\n\t\t\t\n\t\t\t## 2018-01-05\n\t\t\t\n\t\t\t```\n\t\t\t# 引入ElementUI\n\t\t\t\n\t\t\t# babel-plugin-component自定义主题\n\t\t\t# 首页\n\t\t\t# 登陆页\n\t\t\t# 注册页面\n\t\t\t# 日志页\n\t\t\t```\n\t\t\t## 2018-01-07\n\t\t\t\n\t\t\t```\n\t\t\t# 调整底部栏始终固定在底部\n\t\t\t# 日志页 添加时间轴\n\t\t\t# 首页的文章列表\n\t\t\t```\n\t\t\t## 2018-01-08\n\t\t\t\n\t\t\t```\n\t\t\t# 使用组件-博客作者tab页 \n\t\t\t# 添加第三方图标\n\t\t\t```\n\t\t\t\n\t\t\t## 2018-01-09\n\t\t\t\n\t\t\t```\n\t\t\t# 调整顶部导航栏：激活文字颜色，click点击\n\t\t\t# 组件-最新文章tab页\n\t\t\t\n\t\t\t# 最新文章、最热文章使用相同组件\n\t\t\t# 底部栏设计\n\t\t\t# 页面与两边边距改为100\n\t\t\t```\n\t\t\t\n\t\t\t## 2018-01-10\n\t\t\t\n\t\t\t```\n\t\t\t# 写博客 引入mavonEditor编辑器\n\t\t\t# 顶部导航栏都放入一个Menu中\n\t\t\t# 写文章页面\n\t\t\t#　mavonEditor局部引入\n\t\t\t\n\t\t\t#　页面的中间区域固定宽度，自动居中\n\t\t\t# 发布和取消\n\t\t\t# 发布dialog\n\t\t\t\n\t\t\t```\n\t\t\t## 2018-01-11\n\t\t\t\n\t\t\t```\n\t\t\t# 文章组件用守卫来改变body背景色\n\t\t\t# 调整登陆和注册页面，使其居中\n\t\t\t\n\t\t\t#子页面调整根元素为div\n\t\t\t#文章详情页\n\t\t\t\n\t\t\t```\n\t\t\t## 2018-01-12\n\t\t\t\n\t\t\t```\n\t\t\t# 文章详情页  内容  评论等\n\t\t\t\n\t\t\t```\n\t\t\t## 2018-01-13\n\t\t\t\n\t\t\t```\n\t\t\t## 重新调整页面结构\t\n\t\t\t\t#顶部和底部 抽成  BaseHeader BaseFooter 组件\n\t\t\t\t#BlogView为单独页，以前是Home的子路由\n\t\t\t\n\t\t\t```\n\t\t\t## 2018-01-15\n\t\t\t\n\t\t\t``` \n\t\t\t# 文章分类去掉子级\n\t\t\t# 将首页的文章列表抽成 ArticleItem组件\n\t\t\t# 增加文章的评论展示\n\t\t\t# 增加文章分类、标签页\n\t\t\t\n\t\t\t```\n\t\t\t\n\t\t\t## 2018-01-15  2\n\t\t\t\n\t\t\t``` \n\t\t\t# 回到顶部去掉过渡动画（影响顶部导航栏）\n\t\t\t# 顶部导航栏 增加登录后菜单\n\t\t\t# 首页增加 最热标签\n\t\t\t# 增加 文章分类 标签的详情页\n\t\t\t# 将文章详情页、 文章分类标签页 改为Home的子路由（以前单独页）\n\t\t\t# Home组件增加路由判断：更正导航栏的状态、条件显示底部栏\n\t\t\t\n\t\t\t```\n\t\t\t\n\t\t\t## 2018-01-16\n\t\t\t\n\t\t\t``` \n\t\t\t# 将写文章的顶部Header合并到BaseHeader中\n\t\t\t# 图片都放到了static目录下\n\t\t\t\n\t\t\t```\n\t\t\t ")])])],1)],1)},staticRenderFns:[]},Q=a("8AGX")({name:"Log",data:function(){return{}}},D,!1,function(t){a("ThqV")},"data-v-119fb887",null).exports,W={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-container",{},[e("el-main",{staticClass:"me-main"},[e("el-alert",{attrs:{title:"不能留言哦。。。。。。。。。。。",type:"warning",center:"","show-icon":""}})],1)],1)],1)},staticRenderFns:[]},P=a("8AGX")({name:"MessageBoard",data:function(){return{}}},W,!1,function(t){a("A4Fv")},"data-v-a4956b34",null).exports,Z=a("NbYg"),J=(a("FaEH"),{name:"MarkdownEditor",props:{editor:Object},data:function(){return{}},mounted:function(){this.$set(this.editor,"ref",this.$refs.md)},methods:{imgAdd:function(t,e){var a=this,n=new FormData;n.append("image",e),function(t){return I({headers:{"Content-Type":"multipart/form-data"},url:"/upload",method:"post",data:t})}(n).then(function(e){0==e.code?a.$refs.md.$img2Url(t,e.data.url):a.$message({message:e.msg,type:"error",showClose:!0})}).catch(function(t){a.$message({message:t,type:"error",showClose:!0})})}},components:{mavonEditor:Z.mavonEditor}}),tt={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("mavon-editor",t._b({ref:"md",staticClass:"me-editor",on:{imgAdd:t.imgAdd},model:{value:t.editor.value,callback:function(e){t.$set(t.editor,"value",e)},expression:"editor.value"}},"mavon-editor",t.editor,!1))},staticRenderFns:[]},et=a("8AGX")(J,tt,!1,function(t){a("x4z7")},"data-v-a7ad1f30",null).exports,at={name:"BlogWrite",mounted:function(){this.getCategorysAndTags(),window.addEventListener("scroll",this.wrapEditorToolBarToFixed(),!1)},beforeDestroy:function(){window.removeEventListener("scroll",this.wrapEditorToolBarToFixed(),!1)},data:function(){return{publishVisible:!1,categorys:[],tags:[],articleForm:{id:"",title:"",summary:"",category:{},tags:[],editor:{value:"",ref:"",default_open:"edit",toolbars:{bold:!0,italic:!0,header:!0,underline:!0,strikethrough:!0,mark:!0,superscript:!0,subscript:!0,quote:!0,ol:!0,ul:!0,imagelink:!0,code:!0,fullscreen:!0,readmodel:!0,help:!0,undo:!0,redo:!0,trash:!0,navigation:!0,preview:!0}}},rules:{summary:[{required:!0,message:"请输入摘要",trigger:"blur"}],category:[{required:!0,message:"请选择文章分类",trigger:"change"}],tags:[{type:"array",required:!0,message:"请选择标签",trigger:"change"}]}}},methods:{publishShow:function(){this.articleForm.title?this.articleForm.editor.ref.d_render?this.publishVisible=!0:this.$message({message:"内容不能为空哦",type:"warning",showClose:!0}):this.$message({message:"标题不能为空哦",type:"warning",showClose:!0})},publish:function(t){var e=this,a=this;this.$refs[t].validate(function(t){if(!t)return!1;var n=e.articleForm.tags.map(function(t){return{id:t}}),s={id:e.articleForm.id,title:e.articleForm.title,summary:e.articleForm.summary,category:e.articleForm.category,tags:n,body:{content:e.articleForm.editor.value,contentHtml:e.articleForm.editor.ref.d_render}};e.publishVisible=!1;var r=e.$loading({lock:!0,text:"发布中，请稍后..."});(function(t){return I({url:"/articles/create",method:"post",data:t})})(s).then(function(t){r.close(),a.$message({message:"发布成功啦",type:"success",showClose:!0}),a.$router.push({path:"/view/"+t.data.articleId})}).catch(function(t){r.close(),"error"!==t&&a.$message({message:t,type:"error",showClose:!0})})})},cancel:function(){var t=this;this.$confirm("文章将不会保存, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$router.push("/")})},getCategorysAndTags:function(){var t=this;I({url:"/categorys",method:"get"}).then(function(e){t.categorys=e.data}).catch(function(e){"error"!==e&&t.$message({type:"error",message:"文章分类加载失败",showClose:!0})}),I({url:"/tags",method:"get"}).then(function(e){t.tags=e.data}).catch(function(e){"error"!==e&&t.$message({type:"error",message:"标签加载失败",showClose:!0})})},wrapEditorToolBarToFixed:function(){return this.$_.throttle(this.editorToolBarToFixed,1e3)},editorToolBarToFixed:function(){var t=document.querySelector(".v-note-op");(document.documentElement.scrollTop||document.body.scrollTop)>=160?t.classList.add("me-write-toolbar-fixed"):t.classList.remove("me-write-toolbar-fixed")}},components:{"base-header":_,"markdown-editor":et},beforeRouteEnter:function(t,e,a){window.document.body.style.backgroundColor="#fff",a()},beforeRouteLeave:function(t,e,a){window.document.body.style.backgroundColor="#f5f5f5",a()}},nt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"write"}},[a("el-container",[a("base-header",{attrs:{simple:!0}},[a("el-col",{attrs:{span:4,offset:2}},[a("div",{staticClass:"me-write-info"},[t._v("写文章")])]),t._v(" "),a("el-col",{attrs:{span:4,offset:6}},[a("div",{staticClass:"me-write-btn"},[a("el-button",{attrs:{round:""},on:{click:t.publishShow}},[t._v("发布")]),t._v(" "),a("el-button",{attrs:{round:""},on:{click:t.cancel}},[t._v("取消")])],1)])],1),t._v(" "),a("el-container",{staticClass:"me-area me-write-box"},[a("el-main",{staticClass:"me-write-main"},[a("div",{staticClass:"me-write-title"},[a("el-input",{staticClass:"me-write-input",attrs:{resize:"none",type:"textarea",autosize:"",placeholder:"请输入标题"},model:{value:t.articleForm.title,callback:function(e){t.$set(t.articleForm,"title",e)},expression:"articleForm.title"}})],1),t._v(" "),a("markdown-editor",{staticClass:"me-write-editor",attrs:{editor:t.articleForm.editor}})],1)],1),t._v(" "),a("go-top"),t._v(" "),a("el-dialog",{attrs:{title:"摘要 分类 标签",visible:t.publishVisible,"close-on-click-modal":!1,"custom-class":"me-dialog"},on:{"update:visible":function(e){t.publishVisible=e}}},[a("el-form",{ref:"articleForm",attrs:{model:t.articleForm,rules:t.rules}},[a("el-form-item",{attrs:{prop:"summary"}},[a("el-input",{attrs:{type:"textarea",rows:6,placeholder:"请输入摘要"},model:{value:t.articleForm.summary,callback:function(e){t.$set(t.articleForm,"summary",e)},expression:"articleForm.summary"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"文章分类",prop:"category"}},[a("el-select",{attrs:{"value-key":"id",placeholder:"请选择文章分类"},model:{value:t.articleForm.category,callback:function(e){t.$set(t.articleForm,"category",e)},expression:"articleForm.category"}},t._l(t.categorys,function(t){return a("el-option",{key:t.id,attrs:{label:t.categoryname,value:t}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"文章标签",prop:"tags"}},[a("el-checkbox-group",{model:{value:t.articleForm.tags,callback:function(e){t.$set(t.articleForm,"tags",e)},expression:"articleForm.tags"}},t._l(t.tags,function(e){return a("el-checkbox",{key:e.id,attrs:{label:e.id,name:"tags"}},[t._v(t._s(e.tagname))])}))],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.publishVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.publish("articleForm")}}},[t._v("发布")])],1)],1)],1)],1)},staticRenderFns:[]},st=a("8AGX")(at,nt,!1,function(t){a("W+Fp")},null,null).exports,rt=a("aA9S"),ot=a.n(rt),it=a("EdC7"),ct=a.n(it),lt={name:"BlogView",created:function(){this.getArticle()},watch:{$route:"getArticle"},data:function(){return{article:{id:"",title:"",commentCounts:0,viewCounts:0,summary:"",author:{},tags:[],createDate:"",editor:{value:"",toolbarsFlag:!1,subfield:!1,default_open:"preview"}},comments:[],comment:{article:{},content:""}}},computed:{avatar:function(){var t=this.$store.state.avatar;return t.length>0?t:ct.a}},methods:{getArticle:function(){var t=this;(function(t){return I({url:"/articles/view/"+t,method:"get"})})(t.$route.params.id).then(function(e){ot()(t.article,e.data),t.article.editor.value=e.data.body.content,t.getCommentsByArticle()}).catch(function(e){"error"!==e&&t.$message({type:"error",message:"文章加载失败",showClose:!0})})},publishComment:function(){var t=this;t.comment.article.id=t.article.id,function(t){return I({url:"/comments/create/change",method:"post",data:t})}(t.comment).then(function(e){t.$message({type:"success",message:"评论成功",showClose:!0}),t.comments.push(e.data)}).catch(function(e){"error"!==e&&t.$message({type:"error",message:"评论失败",showClose:!0})})},getCommentsByArticle:function(){var t=this;(function(t){return I({url:"/comments/article/"+t,method:"get"})})(t.article.id).then(function(e){t.comments=e.data}).catch(function(e){"error"!==e&&t.$message({type:"error",message:"评论加载失败",showClose:!0})})}},components:{"markdown-editor":et},beforeRouteEnter:function(t,e,a){window.document.body.style.backgroundColor="#fff",a()},beforeRouteLeave:function(t,e,a){window.document.body.style.backgroundColor="#f5f5f5",a()}},ut={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"me-view-body"},[a("el-container",{staticClass:"me-view-container"},[a("el-main",[a("div",{staticClass:"me-view-card"},[a("h1",{staticClass:"me-view-title"},[t._v(t._s(t.article.title))]),t._v(" "),a("div",{staticClass:"me-view-author"},[a("a",{},[a("img",{staticClass:"me-view-picture",attrs:{src:t.article.author.avatar}})]),t._v(" "),a("div",{staticClass:"me-view-info"},[a("span",[t._v(t._s(t.article.author.nickname))]),t._v(" "),a("div",{staticClass:"me-view-meta"},[a("span",[t._v(t._s(t.article.createDate))]),t._v(" "),a("span",[t._v("阅读   "+t._s(t.article.viewCounts))]),t._v(" "),a("span",[t._v("评论   "+t._s(t.article.commentCounts))])])])]),t._v(" "),a("div",{staticClass:"me-view-content"},[a("markdown-editor",{attrs:{editor:t.article.editor}})],1),t._v(" "),a("div",{staticClass:"me-view-end"},[a("el-alert",{attrs:{title:"文章End...",type:"success",center:"",closable:!1}})],1),t._v(" "),a("div",{staticClass:"me-view-tag"},t._l(t.article.tags,function(e){return a("el-tag",{key:e.id,staticClass:"me-view-tag-item",attrs:{type:"success"}},[t._v(t._s(e.tagname))])})),t._v(" "),a("div",{staticClass:"me-view-comment"},[a("div",{staticClass:"me-view-comment-write"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:2}},[a("a",{},[a("img",{staticClass:"me-view-picture",attrs:{src:t.avatar}})])]),t._v(" "),a("el-col",{attrs:{span:22}},[a("el-input",{staticClass:"me-view-comment-text",attrs:{type:"textarea",autosize:{minRows:2},placeholder:"你的评论...",resize:"none"},model:{value:t.comment.content,callback:function(e){t.$set(t.comment,"content",e)},expression:"comment.content"}})],1)],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:2,offset:22}},[a("el-button",{attrs:{type:"text"},on:{click:function(e){t.publishComment()}}},[t._v("评论")])],1)],1)],1),t._v(" "),a("div",{staticClass:"me-view-comment-title"},[a("span",[t._v(t._s(t.comments.length)+" 条评论")])]),t._v(" "),t._l(t.comments,function(e,n){return a("div",{key:e.id,staticClass:"me-view-comment-item"},[a("div",{staticClass:"me-view-comment-author"},[a("a",{},[a("img",{staticClass:"me-view-picture",attrs:{src:e.author.avatar}})]),t._v(" "),a("div",{staticClass:"me-view-info"},[a("span",[t._v(t._s(e.author.nickname))]),t._v(" "),a("div",{staticClass:"me-view-meta"},[a("span",[t._v(t._s(t.comments.length-n)+"楼")]),t._v(" "),a("span",[t._v(t._s(e.createDate))])])])]),t._v(" "),a("div",[a("p",{staticClass:"me-view-comment-content"},[t._v(t._s(e.content))])])])})],2)])])],1)],1)},staticRenderFns:[]},mt=a("8AGX")(lt,ut,!1,function(t){a("qSkA")},null,null).exports,dt={name:"BlogAllCategoryTag",created:function(){this.getCategorys(),this.getTags()},data:function(){return{categorys:[],tags:[],currentActiveName:"category"}},computed:{activeName:{get:function(){return this.currentActiveName=this.$route.params.type},set:function(t){this.currentActiveName=t}}},methods:{view:function(t){this.$router.push({path:"/"+this.currentActiveName+"/"+t})},getCategorys:function(){var t=this;I({url:"/categorys/detail",method:"get"}).then(function(e){t.categorys=e.data}).catch(function(e){"error"!==e&&t.$message({type:"error",message:"文章分类加载失败",showClose:!0})})},getTags:function(){var t=this;I({url:"/tags/detail",method:"get"}).then(function(e){t.tags=e.data}).catch(function(e){"error"!==e&&t.$message({type:"error",message:"标签加载失败",showClose:!0})})}},beforeRouteEnter:function(t,e,a){window.document.body.style.backgroundColor="#fff",a()},beforeRouteLeave:function(t,e,a){window.document.body.style.backgroundColor="#f5f5f5",a()}},ht={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"me-allct-body"},[a("el-container",{staticClass:"me-allct-container"},[a("el-main",[a("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"文章分类",name:"category"}},[a("ul",{staticClass:"me-allct-items"},t._l(t.categorys,function(e){return a("li",{key:e.id,staticClass:"me-allct-item",on:{click:function(a){t.view(e.id)}}},[a("div",{staticClass:"me-allct-content"},[a("a",{staticClass:"me-allct-info"},[a("img",{staticClass:"me-allct-img",attrs:{src:e.avatar}}),t._v(" "),a("h4",{staticClass:"me-allct-name"},[t._v(t._s(e.categoryname))]),t._v(" "),a("p",{staticClass:"me-allct-description"},[t._v(t._s(e.description))])]),t._v(" "),a("div",{staticClass:"me-allct-meta"},[a("span",[t._v(t._s(e.articles)+" 文章")])])])])}))]),t._v(" "),a("el-tab-pane",{attrs:{label:"标签",name:"tag"}},[a("ul",{staticClass:"me-allct-items"},t._l(t.tags,function(e){return a("li",{key:e.id,staticClass:"me-allct-item",on:{click:function(a){t.view(e.id)}}},[a("div",{staticClass:"me-allct-content"},[a("a",{staticClass:"me-allct-info"},[a("img",{staticClass:"me-allct-img",attrs:{src:e.avatar}}),t._v(" "),a("h4",{staticClass:"me-allct-name"},[t._v(t._s(e.tagname))])]),t._v(" "),a("div",{staticClass:"me-allct-meta"},[a("span",[t._v(t._s(e.articles)+"  文章")])])])])}))])],1)],1)],1)],1)},staticRenderFns:[]},gt=a("8AGX")(dt,ht,!1,function(t){a("uhCI")},null,null).exports,ft={name:"BlogCategoryTag",created:function(){this.getCategoryOrTagAndArticles()},watch:{$route:"getCategoryOrTagAndArticles"},data:function(){return{ct:{},articles:[]}},methods:{getCategoryOrTagAndArticles:function(){var t=this.$route.params.id;"tag"===this.$route.params.type?(this.getTag(t),this.getArticlesByTag(t)):(this.getCategory(t),this.getArticlesByCategory(t))},getCategory:function(t){var e=this;(function(t){return I({url:"/categorys/"+t,method:"get"})})(t).then(function(t){e.ct=t.data}).catch(function(t){"error"!==t&&e.$message({type:"error",message:"文章分类加载失败",showClose:!0})})},getTag:function(t){var e=this;(function(t){return I({url:"/tags/"+t,method:"get"})})(t).then(function(t){e.ct=t.data}).catch(function(t){"error"!==t&&e.$message({type:"error",message:"标签加载失败",showClose:!0})})},getArticlesByCategory:function(t){var e=this;(function(t){return I({url:"/articles/category/"+t,method:"get"})})(t).then(function(t){e.articles=t.data}).catch(function(t){"error"!==t&&e.$message({type:"error",message:"文章加载失败",showClose:!0})})},getArticlesByTag:function(t){var e=this;(function(t){return I({url:"/articles/tag/"+t,method:"get"})})(t).then(function(t){e.articles=t.data}).catch(function(t){"error"!==t&&e.$message({type:"error",message:"文章加载失败",showClose:!0})})}},components:{"article-item":B}},vt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"me-ct-body"},[a("el-container",{staticClass:"me-ct-container"},[a("el-main",[a("div",{staticClass:"me-ct-title me-area"},["tag"===this.$route.params.type?[a("img",{staticClass:"me-ct-picture",attrs:{src:t.ct.avatar}}),t._v(" "),a("h3",{staticClass:"me-ct-name"},[t._v(t._s(t.ct.tagname))])]:[a("img",{staticClass:"me-ct-picture",attrs:{src:t.ct.avatar}}),t._v(" "),a("h3",{staticClass:"me-ct-name"},[t._v(t._s(t.ct.categoryname))]),t._v(" "),a("p",[t._v(t._s(t.ct.description))])],t._v(" "),a("span",{staticClass:"me-ct-meta"},[t._v(t._s(t.articles.length)+" 文章")])],2),t._v(" "),a("div",{staticClass:"me-ct-articles"},t._l(t.articles,function(e){return a("article-item",t._b({key:e.id},"article-item",e,!1))}))])],1)],1)},staticRenderFns:[]},pt=a("8AGX")(ft,vt,!1,function(t){a("tkZf")},null,null).exports;c.default.use(h.a);var _t=new h.a({routes:[{path:"",name:"Home",component:y,children:[{path:"/",component:K},{path:"/log",component:Q},{path:"/messageBoard",component:P},{path:"/view/:id",component:mt},{path:"/:type/all",component:gt},{path:"/:type/:id",component:pt}]},{path:"/login",component:z},{path:"/register",component:Y},{path:"/write",component:st,meta:{requireLogin:!0}}]});_t.beforeEach(function(t,e,a){console.info("守卫--"+n()),n()?"/login"===t.path?a({path:"/"}):(console.info(V.state),0===V.state.account.length?V.dispatch("getUserInfo").then(function(t){a()}).catch(function(){a({path:"/"})}):a()):t.matched.some(function(t){return t.meta.requireLogin})?d()({type:"warning",showClose:!0,message:"写文章 请先登录哦"}):a()});var Ct=_t,wt=a("dLdd"),yt=a.n(wt),bt=(a("7xIN"),{name:"GoTop",data:function(){return{topShow:!1}},methods:{toTop:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0,this.topShow=!1},needToTop:function(){var t=document.documentElement.scrollTop||document.body.scrollTop;this.topShow=t>400}},mounted:function(){this.$nextTick(function(){window.addEventListener("scroll",this.needToTop)})}}),At={render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",[e("div",{directives:[{name:"show",rawName:"v-show",value:this.topShow,expression:"topShow"}],staticClass:"me-to-top",on:{click:this.toTop}},[e("i",{staticClass:"el-icon-caret-top"})])])},staticRenderFns:[]},kt=a("8AGX")(bt,At,!1,function(t){a("BlYj")},null,null).exports;c.default.config.productionTip=!1,c.default.use(i.a),Object.defineProperty(c.default.prototype,"$_",{value:yt.a}),c.default.component("go-top",kt),new c.default({el:"#app",router:Ct,store:V,template:"<App/>",components:{App:u}})},OOuk:function(t,e){},ThqV:function(t,e){},"W+Fp":function(t,e){},"dLd/":function(t,e,a){t.exports=a.p+"img/logo.0e3a2b5.png"},dqYF:function(t,e){},fCJj:function(t,e){},mXUo:function(t,e){},qSkA:function(t,e){},tkZf:function(t,e){},tlvp:function(t,e){},uhCI:function(t,e){},urkz:function(t,e){},x4z7:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.4079e6f54631baeb80a1.js.map